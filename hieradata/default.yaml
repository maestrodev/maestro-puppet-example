---
# Don't modify these values, they get overwritten in each update
# Copy them to common.yaml or other hiera file specific to some nodes %{clientcert}.yaml
# See Puppet Hiera documentation for more detail on config files

maestro::repository::username: 'your_username'
maestro::repository::password: 'CHANGEME'
maestro_nodes::agent::repo:
  url: 'https://repo.maestrodev.com/archiva/repository/all'
  username: 'your_username'
  password: 'CHANGEME'
maestro_nodes::maestroserver::repo:
  url: 'https://repo.maestrodev.com/archiva/repository/all'
  username: 'your_username'
  password: 'CHANGEME'


maestro::maestro::version: '4.17.2'
maestro::maestro::package_type: 'rpm'
maestro::maestro::admin_password: 'admin1'
maestro::maestro::master_password: 'maestro'
maestro::maestro::db_server_password: 'maestro'
maestro::maestro::db_password: 'maestro'
maestro::maestro::agent_auto_activate: true
maestro::maestro::enabled: true
maestro::maestro::metrics_enabled: true

maestro::agent::agent_version: '2.0.4'
maestro::agent::package_type: 'rpm'
maestro::agent::stomp_host: 'localhost'
maestro::agent::agent_name: '%{hostname}'

archiva::version: '1.3.6'

sonar::context_path: '/sonar'
sonar::version: '3.5.1'

jenkins::jenkins_prefix: '/jenkins'

# Archiva repository
maestro_nodes::repositories::host: 'localhost'

# Demo compositions configuration
maestro_demo::archiva_host: 'localhost'
maestro_demo::jenkins_host: 'localhost'
maestro_demo::sonar_host: 'localhost'
maestro_demo::sonar_port: 8083
maestro_demo::sonar_context_path: '/sonar'
maestro_demo::jenkins_context_path: '/jenkins'

# Proxy configuration for nginx and Jetty
maestro::maestro::jetty_forwarded: true

# Memory settings
#maestro::maestro::initmemory: '32'
#maestro::maestro::maxmemory: '256'
#maestro::maestro::permsize: '384m'
#maestro::maestro::maxpermsize: '384m'
activemq::max_memory: '64'
#archiva::maxmemory: '64'
#maestro::agent::maxmemory: '64'

# LDAP configuration
#
# maestro::maestro::ldap:
#   hostname: 'ldap.acme.com'               # The hostname of the ldap server
#   ssl: true                               # use SSL?
#   port: '636'                             # The port of the ldap server
#   dn: 'o=acme'                            # The base dn of the ldap system to start searching for users
#   bind_dn: 'cn=ldapuser,ou=system,o=acme' # the core user used for authentication to the ldap server, must be able to perform the necessary searches
#   bind_password: 'ldapuserpassword'       # password for the bind_dn for the root ldap connection
#   admin_user: 'johndoe'                   # ldap user that will be added as a sysadmin for Maestro

# Update plugin and versions if needed
maestro::plugins::plugins:
  'maestro-ant-plugin':
    version: '1.1'
    dir: 'com/maestrodev/maestro/plugins'
  'maestro-archive-plugin':
    version: '1.1'
    dir: 'com/maestrodev/maestro/plugins'
  'maestro-bamboo-plugin':
    version: '1.1'
  'maestro-continuum-plugin':
    version: '1.6'
  'maestro-cucumber-plugin':
    version: '1.0'
  'maestro-flowdock-plugin':
    version: '1.0'
  'maestro-fog-plugin':
    version: '1.6'
  'maestro-git-plugin':
    version: '1.1'
    dir: 'com/maestrodev/maestro/plugins'
  'maestro-gitblit-plugin':
    version: '1.0'
    dir: 'com/maestrodev/maestro/plugins'
  'maestro-httputils-plugin':
    version: '1.1'
    dir: 'com/maestrodev/maestro/plugins'
  'maestro-irc-plugin':
    version: '1.2'
  'maestro-jenkins-plugin':
    version: '2.1.0'
  'maestro-jira-plugin':
    version: '1.0'
  'maestro-maven-plugin':
    version: '1.1'
    dir: 'com/maestrodev/maestro/plugins'
  'maestro-puppet-plugin':
    version: '1.0'
  'maestro-rake-plugin':
    version: '1.2'
    dir: 'com/maestrodev/maestro/plugins'
  'maestro-rightscale-plugin':
    version: '1.0'
  'maestro-rpm-plugin':
    version: '1.0'
  'maestro-scm-plugin':
    version: '1.0'
  'maestro-shell-plugin':
    version: '1.1'
    dir: 'com/maestrodev/maestro/plugins'
  'maestro-ssh-plugin':
    version: '1.0'
  'maestro-sonar-plugin':
    version: '1.0.2'
    dir: 'com/maestrodev/maestro/plugins'
  'maestro-svn-plugin':
    version: '1.1'
    dir: 'com/maestrodev/maestro/plugins'
  'maestro-tomcat-plugin':
    version: '1.2'
    dir: 'com/maestrodev/maestro/plugins'


# Using an existing Maven repository manager for Maven builds
# maestro_nodes::repositories::maven_mirrors:
#   -
#     id: 'maestro-mirror'
#     url: 'http://maestro.acme.com:8082/archiva/repository/all'
#     mirrorof: 'external:*'

# maestro_nodes::repositories::maven_servers:
#   -
#     id: 'maestro-mirror'
#     username: 'admin'
#     password: 'admin1'
#   -
#     id: 'maestro-deploy'
#     username: 'admin'
#     password: 'admin1'

